<!--pages/back/index.wxml-->
<image class='background' src="http://m.qpic.cn/psc?/V10jt8jl0iyQHV/cXP39dXjFtymXNK2lOGni3PzOMtoYekfkHLEa4*qXDkUqEvCXBxCtLvKuqCBeWa.7bHqzfgKDg0FntI5thkp319Da9LyYmPcFj7w35Z8VVY!/b&bo=OAQkCQAAAAARFzE!&rf=viewer_4" mode="aspectFill"></image>
<view class="container">
  <form class="content" bindsubmit="onAdd">
    <view class="question" wx:for="{{formData.qs}}" wx:for-index="idx" wx:for-item="list" wx:key='index+time'>
      <view class="weui-cells__title qs-title">{{idx+1}}.{{list.name}}</view>
      <!-- 文本框 -->
      <view class="weui-cells weui-cells_after-title" wx:if="{{list.type==='text'}}">
        <view class="weui-cell ">
          <view class="weui-cell__bd">
            <input class="weui-input" id="{{idx}}" name="name" bindinput="updateText" placeholder="{{list.placeholder}}" />
          </view>
        </view>
      </view>
      <!-- 单选题 -->
      <radio-group id="{{idx}}" class="radio-group" wx:if="{{list.type==='radio'}}" bindchange="radioChange">
        <label wx:for="{{list.items}}" wx:for-index="index" wx:for-item="item" wx:key="{date+index}">
          <radio value="{{item.value}}" /> {{item.name}}
        </label>
      </radio-group>
      <!-- 时间选择器 -->
      <view class="weui-cells weui-cells_after-title" wx:if="{{list.type==='date'}}">
        <view class="weui-cell ">
          <view class="weui-cell__bd">
            <van-cell title="选择单个日期" :value="date" click="show = true" />
              <van-calendar v-model="show" confirm="onConfirm" />
          </view>
        </view>
      </view>
      <!-- 地区选择器 -->
      <view class="weui-cells weui-cells_after-title" wx:if="{{list.type==='region'}}">
        <view class="weui-cell weui-cell_select">
          <view class="weui-cell__bd" style="margin-left:16px;">
            <picker id="{{idx}}" mode="region" bindchange="changeRegion" value="{{index}}">
              <view class="weui-select weui-select_in-select-after">{{region[0]}} - {{region[1]}} - {{region[2]}}</view>
            </picker>
          </view>
        </view>
      </view>
      <!-- 区间选择器 -->
      <view class="weui-cells weui-cells_after-title" wx:if="{{list.type==='range'}}">
        <view class="weui-cell weui-cell_select">
          <view class="weui-cell__bd" style="margin-left:16px;">
            <picker id="{{idx}}" name="range" value="{{rangeIndex}}" range="{{list.range}}" bindchange="rangeChange">
              <view class="weui-select weui-select_in-select-after">{{list.range[rangeIndex]}}</view>
            </picker>
          </view>
        </view>
      </view>
    </view>
    <view class="weui-btn-area bt-wrap">
      <button  class="weui-btn bt" type="default" form-type="submit">确定</button>
    </view>
  </form>
</view>
